<!-- 
	iio Engine v1.3.2 preview
	*************************
	the source code for 1.3.2 is not yet available for download
	this document previews the new syntax and gives examples of different
		ways to draw lines with iio
	
	Live Demo: http://iioengine.com/1.3/demos/test_line.htm
 -->
<!DOCTYPE html>
<html style='background:black'>
	<header>
		<script type="text/javascript" src="iioEngine-1.3.2.js"></script>
		<script type="text/javascript" src="iioDebugger-1.3.3.js"></script>
		<style>
			html,body,div{
				margin:20;padding:0;
			}
		</style>
	</header>
	<body>  
	  <canvas id="c1" width="60" height="60"></canvas>
	  <canvas id="c2" width="60" height="60"></canvas>
	  <canvas id="c3" width="60" height="60"></canvas>
	  <canvas id="c4" width="60" height="60"></canvas>
	  <canvas id="c5" width="60" height="60"></canvas>
	  <canvas id="c6" width="60" height="60"></canvas>
	  <canvas id="c7" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c8" width="60" height="60"></canvas>
	  <canvas id="c9" width="60" height="60"></canvas>
	  <canvas id="c10" width="60" height="60"></canvas>
	  <canvas id="c11" width="60" height="60"></canvas>
	  <canvas id="c12" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c15" width="60" height="60"></canvas>
	  <canvas id="c16" width="60" height="60"></canvas>
	  <canvas id="c17" width="60" height="60"></canvas>
	  <canvas id="c18" width="60" height="60"></canvas>
	  <canvas id="c19" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c20" width="60" height="60"></canvas>
	  <canvas id="c21" width="60" height="60"></canvas>
	  <canvas id="c22" width="60" height="60"></canvas>
	  <canvas id="c23" width="60" height="60"></canvas>
	  <canvas id="c24" width="60" height="60"></canvas>
	  <canvas id="c25" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c26" width="60" height="60"></canvas>
	  <canvas id="c27" width="60" height="60"></canvas>
	  <canvas id="c28" width="60" height="60"></canvas>
	  <canvas id="c29" width="60" height="60"></canvas>
	  <canvas id="c30" width="60" height="60"></canvas>
	  <canvas id="c31" width="60" height="60"></canvas>
	  <canvas id="c32" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c33" width="60" height="60"></canvas>
	  <canvas id="c34" width="60" height="60"></canvas>
	  <canvas id="c35" width="60" height="60"></canvas>
	  <canvas id="c36" width="60" height="60"></canvas>
	  <canvas id="c37" width="60" height="60"></canvas>
	  <canvas id="c38" width="60" height="60"></canvas>
	  <canvas id="c39" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c40" width="60" height="60"></canvas>
	  <canvas id="c41" width="60" height="60"></canvas>
	  <canvas id="c42" width="60" height="60"></canvas>
	  <canvas id="c43" width="60" height="60"></canvas>
	  <canvas id="c44" width="60" height="60"></canvas>
	  <canvas id="c45" width="60" height="60"></canvas>
	  <canvas id="c46" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c47" width="60" height="60"></canvas>
	  <canvas id="c48" width="60" height="60"></canvas>
	  <canvas id="c49" width="60" height="60"></canvas>
	  <canvas id="c50" width="60" height="60"></canvas>
	  <canvas id="c51" width="60" height="60"></canvas>
	  <canvas id="c52" width="60" height="60"></canvas>
	  <canvas id="c53" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c54" width="60" height="60"></canvas>
	  <canvas id="c55" width="60" height="60"></canvas>
	  <canvas id="c56" width="60" height="60"></canvas>
	  <canvas id="c57" width="60" height="60"></canvas>
	  <canvas id="c58" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="c59" width="60" height="60"></canvas>
	  <canvas id="c60" width="60" height="60"></canvas>
	  <canvas id="c61" width="60" height="60"></canvas>
	  <canvas id="c62" width="60" height="60"></canvas>
	  <canvas id="c63" width="60" height="60"></canvas>
	  <br/>
	  <canvas id="references" width="200" height="200"></canvas>
		<script type="text/javascript">

/*TEST:Properties*/

//REFERENCE
	iio.start(function(app){

		//debugger title
		app.debug({right:0}).log("line properties"
			,{borderBottom:'1px solid white'});

		//create a line
		var line = app.add([10,10,app.width-10,app.height-10],
				'6 #00baff');

		//display line properties
		app.log('type: '+line.type);
		app.log('pos: '+line.pos.x+':'+line.pos.y);
		app.log('endPos: '+line.endPos.x+':'+line.endPos.y);
		app.log('scale: '+line.scale);
		app.log('color: '+line.color);
		app.log('lineWidth: '+line.lineWidth);
	},'c1');

//DISPLAY
	//TEST: color & lineWidth
		//iio app
		iio.start('add 10:10 width-10:height-10 6 #00baff','c1');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add width-10:10 10:height-10 red 6');
		},'c2');

		//javascript add w/ iio+javascript
		iio.start(function(app){
			app.add([10,10,app.width-10,app.height-10],
				'6 #00baff');
		},'c3');
		iio.start(function(app){
			app.add([app.width-10,10,10,app.height-10],
				['red',{lineWidth:6}]);
		},'c4');

		//javascript add
		iio.start(function(app){
			app.add([10,10,app.width-10,app.height-10],{
				color:'#00baff',
				lineWidth:6
			});
		},'c5');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([app.width-10,10,10,app.height-10]);
			line.color='red';
			line.lineWidth=6;
			app.add(line);
		},'c6');

		//canvas context draw
		iio.start(function(app){
			app.ctx.strokeStyle='#00baff';
			app.ctx.lineWidth=6;
			app.ctx.beginPath();
			app.ctx.moveTo(10,10);
			app.ctx.lineTo(app.width-10,app.height-10);
			app.ctx.stroke();
		},'c7');

	//TEST: lineCap
		//iio app
		iio.start('add width-10:10 10:height-10 6 red lineCap round','c8');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add 10:10 width-10:height-10 lineCap round #00baff 6');
		},'c9');

		//javascript add
		iio.start(function(app){
			app.add([app.width-10,10,10,app.height-10],{
				color:'red',
				lineWidth:6,
				lineCap:'square'
			});
		},'c10');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([10,10,app.width-10,app.height-10]);
			line.color='#00baff';
			line.lineWidth=6;
			line.lineCap='block';
			app.add(line);
		},'c11');

		//canvas context draw
		iio.start(function(app){
			app.ctx.strokeStyle='red';
			app.ctx.lineCap='round';
			app.ctx.lineWidth=6;
			app.ctx.beginPath();
			app.ctx.moveTo(app.width-10,10);
			app.ctx.lineTo(10,app.height-10);
			app.ctx.stroke();
		},'c12');

	//TEST: alpha
		//iio app
		iio.start('add 10:10 width-10:height-10 6 #00baff alpha .7','c15');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add width-10:10 10:height-10 alpha .6 red 6');
		},'c16');

		//javascript add
		iio.start(function(app){
			app.add([10,10,app.width-10,app.height-10],{
				color:'#00baff',
				lineWidth:6,
				alpha:.5
			});
		},'c17');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([app.width-10,10,10,app.height-10]);
			line.color='red';
			line.lineWidth=6;
			line.alpha=.4;
			app.add(line);
		},'c18');

		//canvas context draw
		iio.start(function(app){
			app.ctx.strokeStyle='#00baff';
			app.ctx.globalAlpha=.3;
			app.ctx.lineWidth=6;
			app.ctx.beginPath();
			app.ctx.moveTo(10,10);
			app.ctx.lineTo(app.width-10,app.height-10);
			app.ctx.stroke();
		},'c19');

	//TEST: dash

		//iio app
		iio.start('add width-10:10 10:height-10 6 red dash 10 5 5 8 4','c20');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add 10:10 width-10:height-10 #00baff 6 dash 1 10 2 lineCap round');
		},'c21');

		//javascript add
		iio.start(function(app){
			app.add([app.width-10,10,10,app.height-10],{
				color:'red',
				lineWidth:6,
				dash:[1,2,2]
			});
		},'c22');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([10,10,app.width-10,app.height-10]);
			line.color='#00baff';
			line.lineWidth=6;
			line.dash=[.1,10,.1,4,7];
			line.lineCap='round';
			app.add(line);
		},'c23');

		//create line and draw without adding
		iio.start(function(app){
			var line = new iio.Obj([app.width-10,10,10,app.height-10]);
			line.color='red';
			line.lineWidth=6;
			line.dash=[8,2];
			line.lineCap='round';
			line.draw(app.ctx);
		},'c24');

		//canvas context draw
		iio.start(function(app){
			app.ctx.strokeStyle='#00baff';
			app.ctx.lineWidth=6;
			app.ctx.setLineDash([1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9]);
			app.ctx.lineDashOffset=6;
			app.ctx.beginPath();
			app.ctx.moveTo(10,10);
			app.ctx.lineTo(app.width-10,app.height-10);
			app.ctx.stroke();
		},'c25');

	//TEST: bezier
		//iio app
		iio.start('add 10:height-10 width-10:10 6 #00baff bezier 10 10 width height','c26');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add width-10:10 10:height-10 red 6 bezier 10 10 10 10');
		},'c27');

		//javascript add w/ iio
		iio.start(function(app){
			app.add([10,10,app.width-10,app.height-10],'#00baff 6 bezier 10 height width 0');
		},'c28');

		//javascript add
		iio.start(function(app){
			app.add([app.width-10,10,10,app.height-10],{
				color:'red',
				lineWidth:6,
				bezier:[10,12,app.width-10,0]
			});
		},'c29');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([10,10,app.width-10,app.height-10]);
			line.color='#00baff';
			line.lineWidth=6;
			line.bezier=[10,10,10,app.height-10];
			app.add(line);
		},'c30');

		//create line and draw without adding
		iio.start(function(app){
			var line = new iio.Obj([app.width-10,10,10,app.height-10]);
			line.color='red';
			line.lineWidth=6;
			line.bezier=[10,10,10,10];
			line.draw(app.ctx);
		},'c31');

		//canvas context draw
		iio.start(function(app){
			app.ctx.strokeStyle='#00baff';
			app.ctx.lineWidth=6;
			app.ctx.beginPath();
			app.ctx.moveTo(10,10);
			app.ctx.bezierCurveTo(app.width-10,10,10,app.height-10,app.width-10,app.height-10);
			app.ctx.stroke();
		},'c32');

	//TEST: shadow
		//iio app
		iio.start('white add width-10:10 10:height-10 6 red shadow 3:8 8 black','c33');

		//javascript w/ iio
		iio.start(function(app){
			app.set('white');
			app.run('add 10:10 width-10:height-10 shadow 3:8 8 rgb(0,0,0) #00baff 6');
		},'c34');

		//javascript add w/ iio
		iio.start(function(app){
			app.set('white');
			app.add([app.width-10,10,10,app.height-10],'red 6 shadow 3:8 8 rgba(0,0,0,.8)');
		},'c35');

		//javascript add
		iio.start(function(app){
			app.set('white');
			app.add([10,10,app.width-10,app.height-10],{
				color:'#00baff',
				lineWidth:6,
				dash:[1,2,2],
				shadow:'3:8 2 black'
			});
		},'c36');

		//create line then add
		iio.start(function(app){
			app.set('white');
			var line = new iio.Obj([app.width-10,10,10,app.height-10]);
			line.color='red';
			line.shadow='3:8 8 black';
			line.dash=[.1,10,.1,4,7];
			line.lineCap='round';
			line.lineWidth=6;
			app.add(line);
		},'c37');

		//create line and draw without adding
		iio.start(function(app){
			app.set('white');
			var line = new iio.Obj([10,10,app.width-10,app.height-10]);
			line.color='#00baff';
			line.lineWidth=6;
			line.bezier=[app.width-10,10,app.width-10,10];
			line.dash=[8,2];
			line.lineCap='round';
			line.shadow='3:8 8 black';
			line.draw(app.ctx);
		},'c38');

		//canvas context draw
		iio.start(function(app){
			app.set('white');
			app.ctx.strokeStyle='red';
			app.ctx.shadowColor='black';
			app.ctx.shadowOffsetX=3;
			app.ctx.shadowOffsetY=8;
			app.ctx.shadowBlur=8;
			app.ctx.setLineDash([1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9]);
			app.ctx.lineDashOffset=6;
			app.ctx.lineWidth=6;
			app.ctx.beginPath();
			app.ctx.moveTo(app.width-10,10);
			app.ctx.lineTo(10,app.height-10);
			app.ctx.stroke();
		},'c39');

	//TEST: fps & hidden
		//iio app
		iio.start('add 10:10 width-10:height-10 6 #00baff loop 1 !hidden if hidden app randomColor else app red then app draw','c40');

		//javascript app w/ iio
		iio.start(function(app){
			app.run('add width-10:10 10:height-10 red 6 loop 2 !hidden if hidden app randomColor else app #00baff then app draw');
		},'c41');

		//javascript add w/ iio
		iio.start(function(app){
			var line = app.add([10,10,app.width-10,app.height-10],'#00baff 6');

			app.loop(3,function(){
				if(line.hidden) app.set('transparent');
				else app.set('randomColor');
				line.hidden=!line.hidden;
			});
		},'c42');

		//javascript add
		iio.start(function(app){
			var line = app.add([app.width-10,10,10,app.height-10],{
				color:'red',
				lineWidth:6
			});
			app.loop(4,function(){
				if(line.hidden){
					line.hidden=false;
					app.set('transparent');
				} else {
					line.hidden=true;
					app.set('randomColor');
				}
			});
		},'c43');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([10,10,app.width-10,app.height-10]);
			line.color='#00baff';
			line.lineWidth=6;
			app.add(line);
			app.loop(5,function(){
				if(line.hidden){
					line.hidden=false;
					app.set('transparent');
				} else {
					line.hidden=true;
					app.set('randomColor');
				}
			});
		},'c44');

		//create line and draw without adding
		iio.start(function(app){
			var line = new iio.Obj([app.width-10,10,10,app.height-10]);
			line.color='red';
			line.lineWidth=6;
			line.loop(6,function(dt,o){
				if(o.hidden){
					o.hidden=false;
					app.set('transparent');
				} else {
					o.hidden=true;
					app.set('randomColor');
				}
				line.draw(app.ctx);
			});
		},'c45');

	//TEST: rot
		//iio app
		iio.start('add width-10:10 10:height-10 6 origin center #00baff loop rotate .12','c47');

		//javascript w/ iio
		iio.start(function(app){
			app.run('add width-10:10 10:height-10 red 6 origin center loop 50 rotate -.1');
		},'c48');

		//javascript add w/ iio
		iio.start(function(app){
			var line = app.add([10,10,app.width-10,app.height-10],'#00baff 6 origin center');
			app.loop(function(){
				line.rot+=.05;
				if(line.rot<-Math.PI*2)
					line.rot=0;
			});
		},'c49');
	
		//javascript add
		iio.start(function(app){
			var line = app.add([app.center,app.center.x,0],{
				color:'red',
				lineWidth:6,
				rot:2
			});
			app.loop(40,function(){
				line.rot-=.05;
				if(line.rot<-Math.PI*2)
					line.rot=0;
			});
		},'c50');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([10,10,app.width-10,app.height-10]);
			line.color='#00baff';
			line.lineWidth=6;
			line.rot=0;
			line.origin=line.center;
			app.add(line);
			app.loop(40,function(){
				line.rot-=.05;
				if(line.rot<-Math.PI*2)
					line.rot=0;
			});
		},'c51');

		//create line and draw without adding
		iio.start(function(app){
			var line = new iio.Obj([app.width-10,10,10,app.height-10]);
			line.color='red';
			line.lineWidth=6;
			line.rot=.1;
			line.origin=line.center;
			line.loop(30,function(dt,o){
				o.rot+=.05;
				if(o.rot>Math.PI*2)
					o.rot=0;
				app.draw();
				line.draw(app.ctx);
			});
		},'c52');

		//canvas context draw
		iio.start(function(app){
			app.ctx.strokeStyle='#00baff';
			app.ctx.lineWidth=6;
			app.ctx.rotate(.2);
			app.ctx.beginPath();
			app.ctx.moveTo(10,10);
			app.ctx.lineTo(app.width-10,app.height-10);
			app.ctx.stroke();
		},'c53');

	//TEST vel
	//create line then add

		//iio app
		//Logic currently unimplemented
		//iio.start('add width-15:15 15:height-15 6 origin center red vel -.5::-.2 loop if center x < app center x-15 or center x > app center x+15 then vel x*=-1','c54');

		//javascript add w/ iio
		iio.start(function(app){
			var line = app.add([15,15,app.width-15,app.height-15],'#00baff 6 origin center vel -.5::.2');

			app.loop(45,function(){
				if(line.center.x<app.center.x-15||line.center.x>app.center.x+15)
					line.vel.x*=-1;
			});
		},'c55');

		//javascript add
		iio.start(function(app){
			var line = app.add([15,15,app.width-15,app.height-15],{
				color:'red',
				origin:'center',
				lineWidth:6,
				vel:{x:.6,r:-.2}
			});
			//line.origin=line.center;
			app.loop(50,function(){
				if(line.center.x<app.center.x-15||line.center.x>app.center.x+15)
					line.vel.x*=-1;
			});
		},'c56');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([15,15,app.width-15,app.height-15]);
			line.color='#00baff';
			line.lineWidth=6;
			line.origin=line.center;
			line.vel={x:-.6,r:.2};
			app.add(line);
			app.loop(function(){
				if(line.center.x<app.center.x-15||line.center.x>app.center.x+15)
					line.vel.x*=-1;
			});
		},'c57');

	//TEST acc

	//iio App

		//javascript add w/ iioScript
		iio.start(function(app){
			var line = app.add([15,15,15,app.height-15],'#00baff 6 origin center vel 1: acc .05::.2');

			app.loop(40,function(){
				if(line.center.x<3)
					line.vel.x=1;
				else if(line.center.x>app.width-3)
					line.vel.x=-2;
			});
		},'c60');

		//javascript add
		iio.start(function(app){
			var line = app.add([app.width-15,15,app.width-15,app.height-15],{
				color:'red',
				origin:'center',
				lineWidth:6,
				vel:{x:1},
				acc:{x:-.05,r:.2}
			});
			//line.origin=line.center;
			app.loop(50,function(){
				if(line.center.x<3)
					line.vel.x=2;
				else if(line.center.x>app.width-3)
					line.vel.x=-1;
			});
		},'c61');

		//create line then add
		iio.start(function(app){
			var line = new iio.Obj([15,15,15,app.height-15]);
			line.color='#00baff';
			line.lineWidth=6;
			line.origin=line.center;
			line.vel={x:1};
			line.acc={x:.05,r:.2};
			app.add(line);
			app.loop(function(){
				if(line.center.x<3)
					line.vel.x=1;
				else if(line.center.x>app.width-3)
					line.vel.x=-2;
			});
		},'c62');

		</script>
	</body>
</html>