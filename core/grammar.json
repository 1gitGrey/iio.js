{
  "lex": {
    "rules": [
      ["\\s+",                    "/* skip whitespace */"],
      ["end\\b",                  "return 'END';"],
      ["add\\b",                  "return 'ADD';"],
      ["[red|blue|green|yellow|white|black]\\b",  "return 'COLOR';"],
      ["center\\b",               "return 'CENTER';"],
      ["[0-9]+(?:\\.[0-9]+)?\\b", "return 'NUMBER';"],
      ["$",                       "return 'EOF';"]
    ]
  },

  "bnf": {
    "expressions" :[
      [ "ADDFN EOF",   "app.add($1);"  ]
    ],

    "ADDFN": [
      ["ADD POSITION COLOR NUMBER END", "$$ = {pos: $2, color: $3, width: $4}"],
      ["NUMBER",      "$$ = Number(yytext);" ]
    ],

    "POSITION": [
      ["CENTER",      "$$ = app.center"]
    ],
  }
}
